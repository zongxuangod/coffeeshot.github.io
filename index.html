<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a0f0a">
    <title>‚òï COFFEE MASTER PRO - Â∞àÊ•≠ÂíñÂï°Ê≤ñÁÖÆÊ®°Êì¨Âô®</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ËÉåÊôØÁ≤íÂ≠êÁ≥ªÁµ± -->
    <div class="particles-bg" id="particlesBg"></div>
    <canvas id="particleCanvas"></canvas>
    
    <!-- ‰∏ªÂÆπÂô® -->
    <div class="app-container">
        <!-- È†ÇÈÉ®Â∞éËà™Ê¨Ñ -->
        <nav class="top-nav">
            <div class="nav-brand">
                <div class="brand-icon">‚òï</div>
                <div class="brand-text">
                    <div class="brand-title">COFFEE MASTER</div>
                    <div class="brand-subtitle">Professional Brewing Simulator</div>
                </div>
            </div>
            <div class="nav-actions">
                <button class="nav-btn" onclick="viewLeaderboard()">
                    <span class="btn-icon">üèÜ</span>
                    <span class="btn-text">ÊéíË°åÊ¶ú</span>
                </button>
                <button class="nav-btn" onclick="showStats()">
                    <span class="btn-icon">üìä</span>
                    <span class="btn-text">Áµ±Ë®à</span>
                </button>
            </div>
        </nav>

        <!-- ‰∏ªÂÖßÂÆπÂçÄ -->
        <main class="main-content">
            <!-- Â∑¶ÂÅ¥ÔºöË¶ñË¶∫ÂåñÊ≤ñÁÖÆÂçÄ -->
            <section class="brew-visual-section">
                <div class="visual-card glass-card">
                    <div class="card-header">
                        <h2 class="card-title">Ê≤ñÁÖÆË¶ñË¶∫Âåñ</h2>
                        <div class="status-indicator" id="brewStatus">
                            <span class="status-dot"></span>
                            <span class="status-text">Â∞±Á∑í</span>
                        </div>
                    </div>
                    
                    <!-- 3D Ê≤ñÁÖÆÂ†¥ÊôØ -->
                    <div class="brew-scene" id="brewScene">
                        <div class="scene-container">
                            <!-- V60 ÊøæÊùØ -->
                            <div class="v60-setup">
                                <div class="v60-dripper-pro">
                                    <div class="dripper-rim"></div>
                                    <div class="dripper-cone">
                                        <div class="spiral-pattern"></div>
                                        <div class="coffee-bed" id="coffeeBed"></div>
                                        <div class="water-stream" id="waterStream"></div>
                                        <div class="bloom-animation" id="bloomAnim"></div>
                                    </div>
                                    <div class="dripper-outlet"></div>
                                </div>
                                
                                <!-- ÁéªÁíÉÂ£∫ -->
                                <div class="glass-server">
                                    <div class="server-body">
                                        <div class="coffee-fill" id="coffeeFill">
                                            <div class="coffee-wave"></div>
                                        </div>
                                        <div class="server-markings">
                                            <div class="marking">400ml</div>
                                            <div class="marking">300ml</div>
                                            <div class="marking">200ml</div>
                                            <div class="marking">100ml</div>
                                        </div>
                                    </div>
                                    <div class="server-handle"></div>
                                    <div class="server-spout"></div>
                                </div>
                            </div>
                            
                            <!-- Ëí∏Ê∞£Á≤íÂ≠ê -->
                            <div class="steam-particles" id="steamParticles"></div>
                            
                            <!-- Áí∞Â¢ÉÂÖâÊïà -->
                            <div class="ambient-glow"></div>
                        </div>
                    </div>
                    
                    <!-- ÈÄ≤Â∫¶Ê¢ù -->
                    <div class="brew-progress-bar" id="progressBar">
                        <div class="progress-track">
                            <div class="progress-fill" id="progressFill"></div>
                            <div class="progress-glow"></div>
                        </div>
                        <div class="progress-info">
                            <span class="progress-stage" id="progressStage">Ê∫ñÂÇô‰∏≠</span>
                            <span class="progress-time" id="progressTime">00:00</span>
                        </div>
                    </div>
                    
                    <!-- Âç≥ÊôÇÊï∏Êìö -->
                    <div class="live-data" id="liveData">
                        <div class="data-item">
                            <div class="data-label">Ê≥®Ê∞¥Èáè</div>
                            <div class="data-value" id="waterVolume">0ml</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">ËêÉÂèñÈáè</div>
                            <div class="data-value" id="extractVolume">0ml</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">Ê∫´Â∫¶</div>
                            <div class="data-value" id="tempValue">--¬∞C</div>
                        </div>
                        <div class="data-item">
                            <div class="data-label">TDS</div>
                            <div class="data-value" id="tdsValue">--%</div>
                        </div>
                    </div>
                </div>
                
                <!-- ÂíñÂï°Ë±ÜË≥áË®äÂç° -->
                <div class="bean-card glass-card">
                    <div class="bean-visual" id="beanVisual">
                        <div class="bean-image"></div>
                    </div>
                    <div class="bean-info">
                        <h3 class="bean-name" id="beanName">Ë°£Á¥¢ÊØî‰∫û ËÄ∂Âä†Èõ™Ëè≤</h3>
                        <div class="bean-meta">
                            <span class="meta-tag" id="beanProcess">Ê∞¥Ê¥ó</span>
                            <span class="meta-tag" id="beanRoast">‰∏≠Ê∑∫ÁÑô</span>
                        </div>
                        <div class="flavor-tags" id="flavorTags">
                            <span class="flavor-tag">Ëä±È¶ô</span>
                            <span class="flavor-tag">ÊüëÊ©ò</span>
                            <span class="flavor-tag">ËéìÊûú</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Âè≥ÂÅ¥ÔºöÊéßÂà∂Èù¢Êùø -->
            <section class="control-section">
                <div class="control-card glass-card">
                    <div class="card-header">
                        <h2 class="card-title">Ê≤ñÁÖÆÂèÉÊï∏</h2>
                        <button class="preset-btn" onclick="loadPreset()">
                            <span>‚ö°</span> ËºâÂÖ•È†êË®≠
                        </button>
                    </div>
                    
                    <div class="controls-grid">
                        <!-- ÂíñÂï°Ë±ÜÈÅ∏Êìá -->
                        <div class="control-item full-width">
                            <label class="control-label">
                                <span class="label-icon">üåç</span>
                                <span class="label-text">ÂíñÂï°Ë±ÜÁî¢Âú∞</span>
                            </label>
                            <select id="beanSelect" class="modern-select">
                                <option value="ethiopia">üá™üáπ Ë°£Á¥¢ÊØî‰∫û ËÄ∂Âä†Èõ™Ëè≤</option>
                                <option value="colombia">üá®üá¥ Âì•ÂÄ´ÊØî‰∫û ËñáÊãâ</option>
                                <option value="kenya">üá∞üá™ ËÇØ‰∫û AA</option>
                                <option value="brazil">üáßüá∑ Â∑¥Ë•ø ËÅñ‰øùÁæÖ</option>
                                <option value="guatemala">üá¨üáπ ÁìúÂú∞È¶¨Êãâ ÂÆâÊèêÁìú</option>
                            </select>
                        </div>
                        
                        <!-- Á†îÁ£®Â∫¶ -->
                        <div class="control-item">
                            <label class="control-label">
                                <span class="label-icon">‚öôÔ∏è</span>
                                <span class="label-text">Á†îÁ£®Â∫¶</span>
                                <span class="value-badge" id="grindValue">600Œºm</span>
                            </label>
                            <div class="modern-slider">
                                <input type="range" id="grindSlider" min="200" max="1000" value="600" step="1">
                                <div class="slider-fill"></div>
                                <div class="slider-thumb"></div>
                            </div>
                            <div class="slider-labels">
                                <span>Ê•µÁ¥∞</span>
                                <span>‰∏≠</span>
                                <span>Ê•µÁ≤ó</span>
                            </div>
                        </div>
                        
                        <!-- Ê∞¥Ê∫´ -->
                        <div class="control-item">
                            <label class="control-label">
                                <span class="label-icon">üå°Ô∏è</span>
                                <span class="label-text">Ê∞¥Ê∫´</span>
                                <span class="value-badge temp" id="tempBadge">92¬∞C</span>
                            </label>
                            <div class="modern-slider">
                                <input type="range" id="tempSlider" min="80" max="100" value="92" step="1">
                                <div class="slider-fill"></div>
                                <div class="slider-thumb"></div>
                            </div>
                            <div class="slider-labels">
                                <span>80¬∞C</span>
                                <span>90¬∞C</span>
                                <span>100¬∞C</span>
                            </div>
                        </div>
                        
                        <!-- ÂíñÂï°Á≤âÈáè -->
                        <div class="control-item">
                            <label class="control-label">
                                <span class="label-icon">‚öñÔ∏è</span>
                                <span class="label-text">ÂíñÂï°Á≤âÈáè</span>
                                <span class="value-badge" id="coffeeValue">20g</span>
                            </label>
                            <div class="modern-slider">
                                <input type="range" id="coffeeSlider" min="15" max="30" value="20" step="1">
                                <div class="slider-fill"></div>
                                <div class="slider-thumb"></div>
                            </div>
                            <div class="slider-labels">
                                <span>15g</span>
                                <span>22g</span>
                                <span>30g</span>
                            </div>
                        </div>
                        
                        <!-- Ê∞¥Èáè -->
                        <div class="control-item">
                            <label class="control-label">
                                <span class="label-icon">üíß</span>
                                <span class="label-text">Á∏ΩÊ∞¥Èáè</span>
                                <span class="value-badge" id="waterValue">300ml</span>
                            </label>
                            <div class="modern-slider">
                                <input type="range" id="waterSlider" min="200" max="400" value="300" step="1">
                                <div class="slider-fill"></div>
                                <div class="slider-thumb"></div>
                            </div>
                            <div class="slider-labels">
                                <span>200ml</span>
                                <span>300ml</span>
                                <span>400ml</span>
                            </div>
                            <div class="ratio-indicator" id="ratioIndicator">Á≤âÊ∞¥ÊØî 1:15</div>
                        </div>
                        
                        <!-- ÊÇ∂Ëí∏ÊôÇÈñì -->
                        <div class="control-item">
                            <label class="control-label">
                                <span class="label-icon">‚è±Ô∏è</span>
                                <span class="label-text">ÊÇ∂Ëí∏ÊôÇÈñì</span>
                                <span class="value-badge" id="bloomValue">30s</span>
                            </label>
                            <div class="modern-slider">
                                <input type="range" id="bloomSlider" min="20" max="45" value="30" step="1">
                                <div class="slider-fill"></div>
                                <div class="slider-thumb"></div>
                            </div>
                            <div class="slider-labels">
                                <span>20s</span>
                                <span>32s</span>
                                <span>45s</span>
                            </div>
                        </div>
                        
                        <!-- Á∏ΩÊôÇÈñì -->
                        <div class="control-item">
                            <label class="control-label">
                                <span class="label-icon">‚è≤Ô∏è</span>
                                <span class="label-text">Á∏ΩÊ≤ñÁÖÆÊôÇÈñì</span>
                                <span class="value-badge" id="totalValue">2:30</span>
                            </label>
                            <div class="modern-slider">
                                <input type="range" id="totalSlider" min="120" max="240" value="150" step="1">
                                <div class="slider-fill"></div>
                                <div class="slider-thumb"></div>
                            </div>
                            <div class="slider-labels">
                                <span>2:00</span>
                                <span>2:30</span>
                                <span>4:00</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÈñãÂßãÊåâÈàï -->
                    <button class="brew-start-btn" id="brewStartBtn">
                        <span class="btn-bg"></span>
                        <span class="btn-content">
                            <span class="btn-icon">‚ñ∂</span>
                            <span class="btn-text">ÈñãÂßãÊ≤ñÁÖÆ</span>
                        </span>
                        <span class="btn-shine"></span>
                    </button>
                </div>
                
                <!-- ÁµêÊûúÂç°Áâá -->
                <div class="result-card glass-card" id="resultCard">
                    <div class="result-header">
                        <div class="result-score-display">
                            <div class="score-number" id="scoreNumber">0</div>
                            <div class="score-label">ÂàÜÊï∏</div>
                        </div>
                        <div class="result-grade-badge" id="gradeBadge">-</div>
                    </div>
                    <div class="result-feedback" id="resultFeedback"></div>
                    <div class="result-flavors" id="resultFlavors"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- ÂìÅÂòóÂãïÁï´Ê®°ÊÖãÊ°Ü -->
    <div class="modal-overlay" id="tastingModal">
        <div class="modal-content tasting-modal">
            <div class="tasting-scene">
                <div class="barista-avatar">
                    <div class="avatar-head">
                        <div class="avatar-eyes">
                            <div class="eye"></div>
                            <div class="eye"></div>
                        </div>
                        <div class="avatar-mouth"></div>
                    </div>
                    <div class="avatar-body"></div>
                </div>
                <div class="tasting-cup">
                    <div class="cup-steam"></div>
                </div>
                <div class="tasting-message" id="tastingMessage">ÂìÅÂòó‰∏≠...</div>
            </div>
            <div class="verdict-display" id="verdictDisplay"></div>
        </div>
    </div>

    <!-- ÊéíË°åÊ¶úÊ®°ÊÖãÊ°Ü -->
    <div class="modal-overlay" id="leaderboardModal">
        <div class="modal-content leaderboard-modal">
            <div class="modal-header">
                <h2>üèÜ ÊéíË°åÊ¶ú</h2>
                <button class="modal-close" onclick="closeLeaderboard()">‚úï</button>
            </div>
            <div class="leaderboard-tabs">
                <button class="tab-btn active" data-tab="all" type="button">ÂÖ®ÈÉ®</button>
                <button class="tab-btn" data-tab="today" type="button">‰ªäÊó•</button>
                <button class="tab-btn" data-tab="week" type="button">Êú¨ÈÄ±</button>
            </div>
            <div class="leaderboard-list" id="leaderboardList"></div>
        </div>
    </div>

    <!-- ÂêçÂ≠óËº∏ÂÖ•Ê®°ÊÖãÊ°Ü -->
    <div class="modal-overlay" id="nameModal">
        <div class="modal-content name-modal">
            <div class="name-input-scene">
                <div class="score-showcase">
                    <div class="showcase-score" id="showcaseScore">0</div>
                    <div class="showcase-grade" id="showcaseGrade">-</div>
                </div>
                <h2>üéâ ÊÅ≠ÂñúÂÆåÊàêÊ≤ñÁÖÆÔºÅ</h2>
                <p>Ë´ãËº∏ÂÖ•‰Ω†ÁöÑÂêçÂ≠óÈÄ≤ÂÖ•ÊéíË°åÊ¶ú</p>
                <input type="text" id="nameInput" class="name-input-field" placeholder="Ëº∏ÂÖ•ÂêçÂ≠óÔºà2-20Â≠óÂÖÉÔºâ" maxlength="20">
                <div class="name-hint" id="nameHint">Ë´ãËº∏ÂÖ• 2-20 ÂÄãÂ≠óÂÖÉ</div>
                <button class="submit-name-btn" id="submitNameBtn" disabled>
                    <span>Êèê‰∫§‰∏¶Êü•ÁúãÊéíË°åÊ¶ú</span>
                </button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
